<!DOCTYPE html>
<html>
<head>

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <script type="application/shiny-singletons">b8d79706b067e925accf37c2d5d6cf4524fed520</script>
  <script type="application/html-dependencies">json2[2014.02.04];jquery[1.12.4];shiny[1.1.0];font-awesome[4.7.0];selectize[0.11.2];bootstrap-datepicker[1.6.4];datatables[1.10.5];datatables-bootstrap[1.10.5];ionrangeslider[2.1.6];strftime[0.9.2];htmlwidgets[1.2];leaflet[1.3.1];leafletfix[1.0.0];Proj4Leaflet[1.0.1];rstudio_leaflet[1.3.1];leaflet-binding[2.0.1];dygraphs[1.1.1];moment[2.8.4];moment-timezone[0.2.5];moment-fquarter[1.0.0];dygraphs-binding[1.1.1.6];bootstrap[3.3.7]</script>
<script src="shared/json2-min.js"></script>
<script src="shared/jquery.min.js"></script>
<link href="shared/shiny.css" rel="stylesheet" />
<script src="shared/shiny.min.js"></script>
<link href="shared/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
<link href="shared/selectize/css/selectize.bootstrap3.css" rel="stylesheet" />
<!--[if lt IE 9]>
<script src="shared/selectize/js/es5-shim.min.js"></script>
<![endif]-->
<script src="shared/selectize/js/selectize.min.js"></script>
<link href="shared/datepicker/css/bootstrap-datepicker3.min.css" rel="stylesheet" />
<script src="shared/datepicker/js/bootstrap-datepicker.min.js"></script>
<script>
(function() {
  var datepicker = $.fn.datepicker.noConflict();
  $.fn.bsDatepicker = datepicker;
})();
</script>
<script src="shared/datatables/js/jquery.dataTables.min.js"></script>
<link href="shared/datatables/css/dataTables.bootstrap.css" rel="stylesheet" />
<link href="shared/datatables/css/dataTables.extra.css" rel="stylesheet" />
<script src="shared/datatables/js/dataTables.bootstrap.js"></script>
<link href="shared/ionrangeslider/css/ion.rangeSlider.css" rel="stylesheet" />
<link href="shared/ionrangeslider/css/ion.rangeSlider.skinShiny.css" rel="stylesheet" />
<script src="shared/ionrangeslider/js/ion.rangeSlider.min.js"></script>
<script src="shared/strftime/strftime-min.js"></script>
<script src="htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="leaflet-1.3.1/leaflet.js"></script>
<link href="leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="leaflet-binding-2.0.1/leaflet.js"></script>
<link href="dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="dygraphs-1.1.1/shapes.js"></script>
<script src="moment-2.8.4/moment.js"></script>
<script src="moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="shared/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<script src="shared/bootstrap/js/bootstrap.min.js"></script>
<script src="shared/bootstrap/shim/html5shiv.min.js"></script>
<script src="shared/bootstrap/shim/respond.min.js"></script>  <style>.shinyjs-hide { display: none !important; }</style>
  <script>Shiny.addCustomMessageHandler('shinyjs-show', function(params) { shinyjs.debugMessage('shinyjs: calling function "show" with parameters:'); shinyjs.debugMessage(params); shinyjs.show(params);});
Shiny.addCustomMessageHandler('shinyjs-hide', function(params) { shinyjs.debugMessage('shinyjs: calling function "hide" with parameters:'); shinyjs.debugMessage(params); shinyjs.hide(params);});
Shiny.addCustomMessageHandler('shinyjs-toggle', function(params) { shinyjs.debugMessage('shinyjs: calling function "toggle" with parameters:'); shinyjs.debugMessage(params); shinyjs.toggle(params);});
Shiny.addCustomMessageHandler('shinyjs-enable', function(params) { shinyjs.debugMessage('shinyjs: calling function "enable" with parameters:'); shinyjs.debugMessage(params); shinyjs.enable(params);});
Shiny.addCustomMessageHandler('shinyjs-disable', function(params) { shinyjs.debugMessage('shinyjs: calling function "disable" with parameters:'); shinyjs.debugMessage(params); shinyjs.disable(params);});
Shiny.addCustomMessageHandler('shinyjs-toggleState', function(params) { shinyjs.debugMessage('shinyjs: calling function "toggleState" with parameters:'); shinyjs.debugMessage(params); shinyjs.toggleState(params);});
Shiny.addCustomMessageHandler('shinyjs-addClass', function(params) { shinyjs.debugMessage('shinyjs: calling function "addClass" with parameters:'); shinyjs.debugMessage(params); shinyjs.addClass(params);});
Shiny.addCustomMessageHandler('shinyjs-removeClass', function(params) { shinyjs.debugMessage('shinyjs: calling function "removeClass" with parameters:'); shinyjs.debugMessage(params); shinyjs.removeClass(params);});
Shiny.addCustomMessageHandler('shinyjs-toggleClass', function(params) { shinyjs.debugMessage('shinyjs: calling function "toggleClass" with parameters:'); shinyjs.debugMessage(params); shinyjs.toggleClass(params);});
Shiny.addCustomMessageHandler('shinyjs-html', function(params) { shinyjs.debugMessage('shinyjs: calling function "html" with parameters:'); shinyjs.debugMessage(params); shinyjs.html(params);});
Shiny.addCustomMessageHandler('shinyjs-onevent', function(params) { shinyjs.debugMessage('shinyjs: calling function "onevent" with parameters:'); shinyjs.debugMessage(params); shinyjs.onevent(params);});
Shiny.addCustomMessageHandler('shinyjs-alert', function(params) { shinyjs.debugMessage('shinyjs: calling function "alert" with parameters:'); shinyjs.debugMessage(params); shinyjs.alert(params);});
Shiny.addCustomMessageHandler('shinyjs-logjs', function(params) { shinyjs.debugMessage('shinyjs: calling function "logjs" with parameters:'); shinyjs.debugMessage(params); shinyjs.logjs(params);});
Shiny.addCustomMessageHandler('shinyjs-runjs', function(params) { shinyjs.debugMessage('shinyjs: calling function "runjs" with parameters:'); shinyjs.debugMessage(params); shinyjs.runjs(params);});
Shiny.addCustomMessageHandler('shinyjs-reset', function(params) { shinyjs.debugMessage('shinyjs: calling function "reset" with parameters:'); shinyjs.debugMessage(params); shinyjs.reset(params);});
Shiny.addCustomMessageHandler('shinyjs-delay', function(params) { shinyjs.debugMessage('shinyjs: calling function "delay" with parameters:'); shinyjs.debugMessage(params); shinyjs.delay(params);});
Shiny.addCustomMessageHandler('shinyjs-click', function(params) { shinyjs.debugMessage('shinyjs: calling function "click" with parameters:'); shinyjs.debugMessage(params); shinyjs.click(params);});</script>
  <script src="shinyjs/shinyjs-default-funcs.js"></script>
  <script>shinyjs.debug = false;</script>
  <title>
    <div class="row">
      <div class="col-sm-10">
        <div style="margin-left:10px;">SpatialEpiApp</div>
        <div style="padding:10px; font-size:70%;">Shiny Web Application for the Analysis of Spatial and Spatio-Temporal Disease Data</div>
      </div>
    </div>
  </title>

</head>

<body>
  <div class="container-fluid">
    <div class="well">
      <h2>
        <div class="row">
          <div class="col-sm-10">
            <div style="margin-left:10px;">SpatialEpiApp</div>
            <div style="padding:10px; font-size:70%;">Shiny Web Application for the Analysis of Spatial and Spatio-Temporal Disease Data</div>
          </div>
        </div>
      </h2>
    </div>
    <div style="display: inline-block;vertical-align:middle;">
      <button id="helpButton" type="button" class="btn btn-default action-button">
        <strong>Help</strong>
      </button>
    </div>
    <div data-display-if="input.selectstage == &#39;stagehelp&#39;" data-ns-prefix="">
      <div style="display: inline-block;vertical-align:middle;">
        <h3>Help</h3>
      </div>
      <div style="display: inline-block;vertical-align:middle;">
        <h3> </h3>
      </div>
      <div style="display: inline-block;vertical-align:middle;">
        <button id="returnButton" type="button" class="btn btn-default action-button">
          <i class="fa fa-reply"></i>
          
        </button>
      </div>
      <div class="row">
        <div class="col-sm-12"><br></div>
      </div>
      <div class="tabbable">
        <ul class="nav nav-tabs" data-tabsetid="1525">
          <li class="active">
            <a href="#tab-1525-1" data-toggle="tab" data-value="Application">Application</a>
          </li>
          <li>
            <a href="#tab-1525-2" data-toggle="tab" data-value="Methodology">Methodology</a>
          </li>
          <li>
            <a href="#tab-1525-3" data-toggle="tab" data-value="Manual">Manual</a>
          </li>
          <li>
            <a href="#tab-1525-4" data-toggle="tab" data-value="About">About</a>
          </li>
          <li>
            <a href="#tab-1525-5" data-toggle="tab"></a>
          </li>
          <li>
            <a href="#tab-1525-6" data-toggle="tab"></a>
          </li>
          <li>
            <a href="#tab-1525-7" data-toggle="tab"></a>
          </li>
          <li>
            <a href="#tab-1525-8" data-toggle="tab"></a>
          </li>
        </ul>
        <div class="tab-content" data-tabsetid="1525">
          <div class="tab-pane active" data-value="Application" id="tab-1525-1">
            <div class="col-sm-12"><h3>Purpose</h3>

<p><strong>SpatialEpiApp</strong> is a <strong>Shiny</strong> web application that allows to visualize spatial and spatio-temporal disease data, estimate disease risk and detect clusters.</p>

<p>The application allows to fit Bayesian disease models to obtain risk estimates and their uncertainty by using <strong>R-INLA</strong>, and to detect clusters by using the scan statistics implemented in <strong>SaTScan</strong>.</p>

<p>The application allows user interaction and creates interactive visualizations such as maps supporting padding and zooming and tables that allow for filtering. It also enables the generation of reports containing the analyses performed.</p>

<h3>Structure</h3>

<p>The application consists of three pages: </p>

<ul>
<li>&#39;Inputs&#39; where the user can upload the
input files and select the type of analysis</li>
<li>&#39;Analysis&#39; where statistical analyses
are carried out, results can be visualized, and reports can be generated</li>
<li>&#39;Help&#39;
containing information about the application use and references.</li>
</ul>

<p><strong>Inputs page</strong></p>

<p>The &#39;Inputs&#39; page is the first page we see when we launch the application. In this page we can upload the required files and select the type of analysis to be performed. It is composed of four components: </p>

<ul>
<li>Upload map</li>
<li>Upload data</li>
<li>Select analysis</li>
<li>Contents</li>
</ul>

<p><strong>Start analysis button</strong></p>

<p>When we click the &#39;Start analysis&#39; button the application checks the files and options entered are correct and calculates the expected counts for each area and date. It also computes the ratio of the observed divided the expected. This ratio is called SIR irrespectively if data refers to mortality or incidence. Then the application redirects to the &#39;Analysis&#39; page.</p>

<p><strong>Analysis page</strong></p>

<p>In the &#39;Analysis&#39; page we can visualize the data, perform the statistical analyses, and generate
reports. On the top of the page there are four buttons:</p>

<ul>
<li><p>&#39;Edit Inputs&#39; button is used when we wish to return to the &#39;Inputs&#39; page to modify the analysis options or upload new data.</p></li>
<li><p>&#39;Maps Pop O E SIR&#39; button creates plots of the population, observed, expected and SIR variables.</p></li>
<li><p>&#39;Estimate risk&#39; button is used for estimating
the disease risk and their uncertainty</p></li>
<li><p>&#39;Detect clusters&#39; is used for the detection of disease clusters</p></li>
</ul>

<p>The &#39;Analysis&#39; page also contains four tabs called &#39;Interactive&#39;, &#39;Maps&#39;, &#39;Clusters&#39; and &#39;Report&#39; that include tables and plots with the results.</p>

<p><strong>Help page</strong></p>

<p>Both the &#39;Inputs&#39; and the &#39;Analysis&#39; pages include a &#39;Help&#39; button that redirects to the
&#39;Help&#39; page. This page shows information about the use of the application, the statistiscal
methodology and the developing tools employed.</p>

<h3>Dependencies</h3>

<p><strong>SpatialEpiApp</strong> has been developed using <strong>R</strong> and <strong>Shiny</strong> and is dependent on the following software and <strong>R</strong> packages:</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Software</strong></td>
<td></td>
</tr>
<tr>
<td>R</td>
<td>Language and environment for statistical computing and graphics</td>
</tr>
<tr>
<td>SaTScan</td>
<td>Software that analyzes spatial, temporal and space-time data using scan statistics</td>
</tr>
<tr>
<td><strong>R packages</strong></td>
<td></td>
</tr>
<tr>
<td>dplyr</td>
<td>A fast, consistent tool for working with data frame like objects, both in memory and out of memory</td>
</tr>
<tr>
<td>dygraphs</td>
<td>Interface to &#39;Dygraphs&#39; Interactive Time Series Charting Library</td>
</tr>
<tr>
<td>ggplot2</td>
<td>Creates elegant data visualisations using the grammar of graphics</td>
</tr>
<tr>
<td>htmlwidgets</td>
<td>Provides a framework for easily creating R bindings to JavaScript libraries</td>
</tr>
<tr>
<td>knitr</td>
<td>Tool for dynamic report generation in R</td>
</tr>
<tr>
<td>leaflet</td>
<td>Create Interactive Web Maps with the JavaScript &#39;Leaflet&#39; Library</td>
</tr>
<tr>
<td>mapproj</td>
<td>Converts latitute/longitude into projected coordinates</td>
</tr>
<tr>
<td>maptools</td>
<td>Set of tools for manipulating and reading geographic data, in particular ESRI shapefiles</td>
</tr>
<tr>
<td>RColorBrewer</td>
<td>Provides color schemes for maps and other graphics</td>
</tr>
<tr>
<td>rgdal</td>
<td>Provides bindings to Frank Warmerdam&#39;s Geospatial Data Abstraction Library (GDAL)</td>
</tr>
<tr>
<td>rgeos</td>
<td>Interface to Geometry Engine - Open Source (GEOS) using the C API for topology operations on geometries</td>
</tr>
<tr>
<td>rmarkdown</td>
<td>Convert R Markdown documents into a variety of formats including HTML, MS Word, PDF, and Beamer</td>
</tr>
<tr>
<td>R-INLA</td>
<td>Performs full Bayesian analysis on generalised additive mixed models using Integrated Nested Laplace Approximations</td>
</tr>
<tr>
<td>shiny</td>
<td>Web Application Framework for R</td>
</tr>
<tr>
<td>shinyjs</td>
<td>Perform common useful JavaScript operations in Shiny apps that will greatly improve the apps without having to know any JavaScript</td>
</tr>
<tr>
<td>sp</td>
<td>Classes and Methods for Spatial Data</td>
</tr>
<tr>
<td>SpatialEpi</td>
<td>Contains methods for cluster detection, disease mapping and plotting methods</td>
</tr>
<tr>
<td>spdep</td>
<td>Contains a collection of functions for spatial dependence: weighting schemes, statistics and models</td>
</tr>
<tr>
<td>xts</td>
<td>Extensible time series class and methods</td>
</tr>
</tbody></table>

<h3>References</h3>

<ul>
<li><p>Moraga P (2017), &ldquo;SpatialEpiApp: A Shiny web application for the analysis of spatial and spatio-temporal disease data.&rdquo; Spatial and Spatio-temporal Epidemiology.
DOI: <a href="https://doi.org/10.1016/j.sste.2017.08.001">https://doi.org/10.1016/j.sste.2017.08.001</a></p></li>
<li><p>Allaire J, Cheng J, Xie Y, McPherson J, Chang W, Allen J, Wickham H, Atkins A, Hyndman
R (2016). rmarkdown: Dynamic Documents for R. R package version 1.2, URL <a href="https://CRAN.R-project.org/package=rmarkdown">https://CRAN.R-project.org/package=rmarkdown</a>.</p></li>
<li><p>Attali D (2016). shinyjs: Easily Improve the User Experience of Your Shiny Apps in Seconds. R package version 0.8, URL <a href="https://CRAN.R-project.org/package=shinyjs">https://CRAN.R-project.org/package=shinyjs</a>.</p></li>
<li><p>Bernardinelli L, Clayton DG, Pascutto C, Montomoli C, Ghislandi M, Songini M (1995). &ldquo;Bayesian analysis of space-time variation in disease risk.&rdquo; Statistics in Medicine, 14, 2433-2443.</p></li>
<li><p>Besag J, York J, Mollie A (1991). &ldquo;Bayesian image restoration with applications in spatial statistics (with discussion).&rdquo; Annals of the Institute of Statistical Mathemathics, 43, 1-59.</p></li>
<li><p>Bivand R, Lewin-Koh N (2016). maptools: Tools for Reading and Handling Spatial Objects. R package version 0.8-39, URL <a href="https://CRAN.R-project.org/package=maptools">https://CRAN.R-project.org/package=maptools</a>.</p></li>
<li><p>Bivand R, Keitt T, Rowlingson B (2016). rgdal: Bindings for the Geospatial Data Abstraction Library. R
package version 1.2-5. <a href="https://CRAN.R-project.org/package=rgdal">https://CRAN.R-project.org/package=rgdal</a></p></li>
<li><p>Bivand R, Piras G (2015). &ldquo;Comparing Implementations of Estimation Methods for Spatial Econometrics.&rdquo; Journal of Statistical Software, 63(18), 1-36.</p></li>
<li><p>Bivand R, Rundel C (2016). rgeos: Interface to Geometry Engine - Open Source (GEOS). R package version 0.3-21, URL <a href="https://CRAN.R-project.org/package=rgeos">https://CRAN.R-project.org/package=rgeos</a>.</p></li>
<li><p>Chang W, Cheng J, Allaire J, Xie Y, McPherson J (2016). shiny: Web Application Framework for R. R package version 0.14.1, URL <a href="https://CRAN.R-project.org/package=shiny">https://CRAN.R-project.org/package=shiny</a>.</p></li>
<li><p>Cheng J, Xie Y (2016). leaflet: Create Interactive Web Maps with the JavaScript &#39;Leaflet&#39; Library. R package version 1.0.1, URL <a href="https://CRAN.R-project.org/package=leaflet">https://CRAN.R-project.org/package=leaflet</a>.</p></li>
<li><p>Elliott P, Wakefield J, Best N, David Briggs e (2000). Spatial Epidemiology: Methods and Applications. Oxford University Press.</p></li>
<li><p>Kim AY, Wakefield J (2016). SpatialEpi: Methods and Data for Spatial Epidemiology. R package version 1.2.2, URL <a href="https://CRAN.R-project.org/package=SpatialEpi">https://CRAN.R-project.org/package=SpatialEpi</a>.</p></li>
<li><p>Kulldorff M (1997). &ldquo;A spatial scan statistic.&rdquo; Communications in Statistics - Theory and Methods, 26(1), 1481-1496.</p></li>
<li><p>Kulldorff M (2006a). SaTScan&trade; v. 7.0. Software for the spatial and space-time scan statistics. URL <a href="http://www.satscan.org/">http://www.satscan.org/</a>.</p></li>
<li><p>Kulldorff M (2006b). &ldquo;Tests of spatial randomness adjusted for an inhomogeneity: A general framework.&rdquo; Journal of the American Statistical Association, 101(475), 1289-1305.</p></li>
<li><p>Kulldorff M, Nagarwalla N (1995). &ldquo;Spatial disease clusters: detection and inference.&rdquo; Statistics in Medicine, 14, 799-810.</p></li>
<li><p>Lawson AB (2009). Bayesian Disease Mapping: Hierarchical Modeling In Spatial Epidemiology. Chapman and Hall/CRC.</p></li>
<li><p>Lawson AB, Browne WJ, Vidal Rodeiro CL (2003). Disease Mapping with WinBUGS and MLWin. Wiley.</p></li>
<li><p>Lawson AB, Kleinman K (2005). Spatial and Syndromic Surveillance for Public Health. Wiley.</p></li>
<li><p>Lindgren F, Rue H (2015). &ldquo;Bayesian Spatial Modelling with R-INLA.&rdquo; Journal of Statistical Software, 63(19), 1-25.</p></li>
<li><p>McIlroy D, Brownrigg R, Minka TP, Bivand R (2015). mapproj: Map Projections. R package version 1.2-4, URL <a href="https://CRAN.R-project.org/package=mapproj">https://CRAN.R-project.org/package=mapproj</a>.</p></li>
<li><p>Neuwirth E (2014). RColorBrewer: ColorBrewer Palettes. R package version 1.1-2, URL <a href="https://CRAN.R-project.org/package=RColorBrewer">https://CRAN.R-project.org/package=RColorBrewer</a>.</p></li>
<li><p>Pebesma E, Bivand R, Rowlingson B, Gómez-Rubio V, Hijmans R, Sumner M, MacQueen D, Lemon J, O&#39;Brien J (2016).
sp: Classes and Methods for Spatial Data.
R package version 1.2-5, URL <a href="https://CRAN.R-project.org/package=sp">https://CRAN.R-project.org/package=sp</a></p></li>
<li><p>R Core Team (2017). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing, Vienna, Austria. URL <a href="https://www.R-project.org">https://www.R-project.org</a>.</p></li>
<li><p>Rue H, Martino S, Chopin N (2009). &ldquo;Approximate Bayesian inference for latent Gaussian models by using integrated nested Laplace approximations.&quot;Journal of the Royal Statistical Society, Series B, 71(2), 319-392.</p></li>
<li><p>Ryan JA, Ulrich JM (2014). xts: eXtensible Time Series. R package version 0.9-7, URL <a href="https://CRAN.R-project.org/package=xts">https://CRAN.R-project.org/package=xts</a>.</p></li>
<li><p>Vaidyanathan R, Xie Y, Allaire J, Cheng J, Russell K (2016). htmlwidgets: HTML Widgets for R. R package version 0.7, URL <a href="https://CRAN.R-project.org/package=htmlwidgets">https://CRAN.R-project.org/package=htmlwidgets</a>.</p></li>
<li><p>Vanderkam D, Allaire J, Owen J, Gromer D, Shevtsov P, Thieurmel B (2016). dygraphs: Interface to &#39;Dygraphs&#39; Interactive Time Series Charting Library. R package version 1.1.1.3, URL <a href="https://CRAN.R-project.org/package=dygraphs">https://CRAN.R-project.org/package=dygraphs</a>.</p></li>
<li><p>Waller LA, Gotway CA (2004). Applied Spatial Statistics for Public Health Data. Wiley, New York.</p></li>
<li><p>Wickham H (2009). ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. ISBN 978-0-387-98140-6. URL <a href="http://ggplot2.org">http://ggplot2.org</a>.</p></li>
<li><p>Wickham H, Francois R (2016). dplyr: A Grammar of Data Manipulation. R package version 0.5.0, URL <a href="https://CRAN.R-project.org/package=dplyr">https://CRAN.R-project.org/package=dplyr</a>.</p></li>
<li><p>Xie Y (2015). Dynamic Documents with R and knitr. 2nd edition. Chapman and Hall/CRC.</p></li>
</ul>
</div>
          </div>
          <div class="tab-pane" data-value="Methodology" id="tab-1525-2">
            <div class="col-sm-12"><h3>Risk estimates</h3>

<p>Risk estimates are obtained using <strong>R-INLA</strong>, <a href="http://www.r-inla.org">http://www.r-inla.org</a></p>

<table><thead>
<tr>
<th>Settings:</th>
</tr>
</thead><tbody>
<tr>
<td>Spatial model: Besag et al. (1991)</td>
</tr>
<tr>
<td>Spatio-temporal model: Bernardinelli et al. (1995)</td>
</tr>
</tbody></table>

<p><br></p>

<ul>
<li><p>Besag J, York J, Mollie A (1991). &ldquo;Bayesian image restoration with applications in spatial
statistics (with discussion).&rdquo; Annals of the Institute of Statistical Mathemathics, 43, 1-59</p></li>
<li><p>Bernardinelli L, Clayton DG, Pascutto C, Montomoli C, Ghislandi M, Songini M (1995).
&ldquo;Bayesian analysis of space-time variation in disease risk.&rdquo; Statistics in Medicine, 14, 2433-2443</p></li>
<li><p>Rue H, Martino S, Chopin N (2009). &ldquo;Approximate Bayesian inference for latent Gaussian
models by using integrated nested Laplace approximations.&quot;Journal of the Royal Statistical
Society, Series B, 71(2), 319-392</p></li>
<li><p>Lindgren F, Rue H (2015). &quot;Bayesian Spatial Modelling with R-INLA.&rdquo; Journal of Statistical
Software, 63(19), 1-25</p></li>
</ul>

<p><br></p>

<h3>Detection of clusters</h3>

<p>Detection of clusters is done using the <strong>SaTScan</strong> software.
Users need to download SaTScan from <a href="http://www.satscan.org">http://www.satscan.org</a>.
Then, they need to install it and place the SaTScanBatch64 executable in the SpatialEpiApp/SpatialEpiApp/ss folder which is located in the R library path.</p>

<table><thead>
<tr>
<th>Settings:</th>
</tr>
</thead><tbody>
<tr>
<td>Maximum population: 50%</td>
</tr>
<tr>
<td>Monte Carlo simulations: 999</td>
</tr>
</tbody></table>

<p><br></p>

<ul>
<li><p>Kulldorff M (1997). &ldquo;A spatial scan statistic.&rdquo; Communications in Statistics - Theory and
Methods, 26(1), 1481-1496.</p></li>
<li><p>Kulldorff M (2006a). SaTScan&trade; v. 7.0. Software for the spatial and space-time scan
statistics. URL <a href="http://www.satscan.org">http://www.satscan.org</a>.</p></li>
</ul>
</div>
          </div>
          <div class="tab-pane" data-value="Manual" id="tab-1525-3">
            <iframe src="manual.pdf" width="100%" height="600px" scrolling="auto"></iframe>
          </div>
          <div class="tab-pane" data-value="About" id="tab-1525-4">
            <div class="col-sm-12"><h3>Developer</h3>

<p><strong>SpatialEpiApp</strong> has been developed by</p>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Paula Moraga</td>
</tr>
<tr>
<td>Lancaster Medical School</td>
</tr>
<tr>
<td>Lancaster University</td>
</tr>
<tr>
<td>Lancaster, LA1 4YG, United Kingdom</td>
</tr>
<tr>
<td>E-mail: <a href="mailto:p.e.moraga-serrano@lancaster.ac.uk">p.e.moraga-serrano@lancaster.ac.uk</a></td>
</tr>
<tr>
<td>URL: <a href="http://Paula-Moraga.github.io">http://Paula-Moraga.github.io</a></td>
</tr>
</tbody></table>

<h3>Citation</h3>

<p>To cite <strong>SpatialEpiApp</strong> in publications use:</p>

<p>Paula Moraga (2017), SpatialEpiApp: A Shiny web application for the analysis of spatial and spatio-temporal disease data. Spatial and Spatio-temporal Epidemiology.
DOI: <a href="https://doi.org/10.1016/j.sste.2017.08.001">https://doi.org/10.1016/j.sste.2017.08.001</a></p>

<!-- Paula Moraga (2017). SpatialEpiApp: A Shiny web application for the analysis of spatial and spatio-temporal disease data. R package version 0.1, URL https://CRAN.R-project.org/package=SpatialEpiApp.
-->
</div>
          </div>
          <div class="form-group shiny-input-container" style="width: 300px;" id="tab-1525-5">
            <label for="selectstage"></label>
            <input id="selectstage" type="text" class="form-control" value="stageuploaddata"/>
          </div>
          <div class="form-group shiny-input-container" style="width: 300px;" id="tab-1525-6">
            <label for="selectestimaterisk"></label>
            <input id="selectestimaterisk" type="text" class="form-control" value="notdone"/>
          </div>
          <div class="form-group shiny-input-container" style="width: 300px;" id="tab-1525-7">
            <label for="selectdetectclusters"></label>
            <input id="selectdetectclusters" type="text" class="form-control" value="notdone"/>
          </div>
          <div class="form-group shiny-input-container" style="width: 300px;" id="tab-1525-8">
            <label for="selectmakemapsOESIR"></label>
            <input id="selectmakemapsOESIR" type="text" class="form-control" value="notdone"/>
          </div>
        </div>
      </div>
    </div>
    <div data-display-if="input.selectstage == &#39;stageuploaddata&#39;" data-ns-prefix="">
      <div style="display: inline-block;vertical-align:middle;">
        <h3>Inputs</h3>
      </div>
      <div style="display: inline-block;vertical-align:middle;">
        <h3> </h3>
      </div>
      <div class="row">
        <div class="col-sm-4" style="height:750px;  margin:10px; border-style: solid;border-color:gray">
          <h3>1. Upload map (shapefile)</h3>
          <span class="help-block">Upload all map files at once: shp, dbf, shx and prj.</span>
          <div class="form-group shiny-input-container">
            <label></label>
            <div class="input-group">
              <label class="input-group-btn">
                <span class="btn btn-default btn-file">
                  Browse...
                  <input id="filemap" name="filemap" type="file" style="display: none;" multiple="multiple" accept=".shp,.dbf,.sbn,.sbx,.shx,.prj"/>
                </span>
              </label>
              <input type="text" class="form-control" placeholder="No file selected" readonly="readonly"/>
            </div>
            <div id="filemap_progress" class="progress progress-striped active shiny-file-input-progress">
              <div class="progress-bar"></div>
            </div>
          </div>
          <span class="help-block">Select columns id and name of the areas in the map.</span>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group shiny-input-container">
                <label class="control-label" for="columnidareainmap">area id</label>
                <div>
                  <select id="columnidareainmap"><option value="" selected></option></select>
                  <script type="application/json" data-for="columnidareainmap">{}</script>
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group shiny-input-container">
                <label class="control-label" for="columnnameareainmap">area name</label>
                <div>
                  <select id="columnnameareainmap"><option value="" selected></option></select>
                  <script type="application/json" data-for="columnnameareainmap">{}</script>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12">
              <span class="help-block">
                <div>Optional. Select column name of the regions in the map.</div>
                <div>If the number of areas is big, the leaflet map will not render. By specifying regions containing a small number of areas,
                                          only areas within the selected region will be shown in the interactive results.</div>
              </span>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group shiny-input-container">
                <label class="control-label" for="columnnamesuperareainmap">region name</label>
                <div>
                  <select id="columnnamesuperareainmap"><option value="" selected></option></select>
                  <script type="application/json" data-for="columnnamesuperareainmap">{}</script>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-4" style="height:750px;  margin:10px; border-style: solid;border-color:gray">
          <h3>2. Upload data (.csv file)</h3>
          <span class="help-block">
            <div>
              File needs to have columns
              <strong>&lt;area id&gt;&lt;date&gt;&lt;population&gt;&lt;cases&gt;</strong>
              .
            </div>
            <div>
              Optional. It can also include columns with up to four covariates
              <strong>&lt;covariate1&gt;...&lt;covariate4&gt;</strong>
              .
            </div>
          </span>
          <div class="form-group shiny-input-container">
            <label></label>
            <div class="input-group">
              <label class="input-group-btn">
                <span class="btn btn-default btn-file">
                  Browse...
                  <input id="file1" name="file1" type="file" style="display: none;" accept="text/csv,text/comma-separated-values,text/plain,.csv"/>
                </span>
              </label>
              <input type="text" class="form-control" placeholder="No file selected" readonly="readonly"/>
            </div>
            <div id="file1_progress" class="progress progress-striped active shiny-file-input-progress">
              <div class="progress-bar"></div>
            </div>
          </div>
          <span class="help-block">Select columns id, date, population and cases in the data.</span>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group shiny-input-container">
                <label class="control-label" for="columnidareaindata">area id</label>
                <div>
                  <select id="columnidareaindata"><option value="" selected></option></select>
                  <script type="application/json" data-for="columnidareaindata">{}</script>
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group shiny-input-container">
                <label class="control-label" for="columndateindata">date</label>
                <div>
                  <select id="columndateindata"><option value="" selected></option></select>
                  <script type="application/json" data-for="columndateindata">{}</script>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group shiny-input-container">
                <label class="control-label" for="columnpopindata">population</label>
                <div>
                  <select id="columnpopindata"><option value="" selected></option></select>
                  <script type="application/json" data-for="columnpopindata">{}</script>
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group shiny-input-container">
                <label class="control-label" for="columncasesindata">cases</label>
                <div>
                  <select id="columncasesindata"><option value="" selected></option></select>
                  <script type="application/json" data-for="columncasesindata">{}</script>
                </div>
              </div>
            </div>
          </div>
          <span class="help-block">
            <div>Optional. Select columns covariate 1, covariate 2, covariate 3, covariate 4.</div>
            <div>Leave the boxes with - if the data do not contain covariates.</div>
          </span>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group shiny-input-container">
                <label class="control-label" for="columncov1indata">covariate 1</label>
                <div>
                  <select id="columncov1indata"><option value="" selected></option></select>
                  <script type="application/json" data-for="columncov1indata">{}</script>
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group shiny-input-container">
                <label class="control-label" for="columncov2indata">covariate 2</label>
                <div>
                  <select id="columncov2indata"><option value="" selected></option></select>
                  <script type="application/json" data-for="columncov2indata">{}</script>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group shiny-input-container">
                <label class="control-label" for="columncov3indata">covariate 3</label>
                <div>
                  <select id="columncov3indata"><option value="" selected></option></select>
                  <script type="application/json" data-for="columncov3indata">{}</script>
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group shiny-input-container">
                <label class="control-label" for="columncov4indata">covariate 4</label>
                <div>
                  <select id="columncov4indata"><option value="" selected></option></select>
                  <script type="application/json" data-for="columncov4indata">{}</script>
                </div>
              </div>
            </div>
          </div>
          <span class="help-block">
            <div>Note: Area id is a unique identifier of the area. Area id in the data should be the same as area id in the map.
                       Dates can be written in year (yyyy), month (yyyy-mm) or day (yyyy-mm-dd) format. Dates should be consecutive.
                       Data should contain the population and cases for all combinations of area id, date and covariates.</div>
          </span>
        </div>
        <div class="col-sm-3" style="height:750px;  margin:10px; border-style: solid;border-color:gray">
          <h3>3. Select analysis</h3>
          <span class="help-block">
            <div>Select the temporal unit in the data. It can be year, month or day depending on the format of the dates in the data file.</div>
          </span>
          <div id="temporalUnitButton" class="form-group shiny-input-radiogroup shiny-input-container shiny-input-container-inline">
            <label class="control-label" for="temporalUnitButton">Temporal unit</label>
            <div class="shiny-options-group">
              <label class="radio-inline">
                <input type="radio" name="temporalUnitButton" value="Year" checked="checked"/>
                <span>Year (yyyy)</span>
              </label>
              <label class="radio-inline">
                <input type="radio" name="temporalUnitButton" value="Month"/>
                <span>Month  (yyyy-mm)</span>
              </label>
              <label class="radio-inline">
                <input type="radio" name="temporalUnitButton" value="Day"/>
                <span>Day (yyyy-mm-dd)</span>
              </label>
            </div>
          </div>
          <hr/>
          <span class="help-block">
            <div>Select minimum and maximum dates of the analysis.  Only data with date within the date range will be used in the analysis </div>
          </span>
          <div id="daterange" class="shiny-date-range-input form-group shiny-input-container">
            <label class="control-label" for="daterange">Date range</label>
            <div class="input-daterange input-group">
              <input class="input-sm form-control" type="text" data-date-language="en" data-date-week-start="0" data-date-format="yyyy-mm-dd" data-date-start-view="month" data-initial-date="1981-01-01" data-date-autoclose="true"/>
              <span class="input-group-addon"> to </span>
              <input class="input-sm form-control" type="text" data-date-language="en" data-date-week-start="0" data-date-format="yyyy-mm-dd" data-date-start-view="month" data-initial-date="1984-01-01" data-date-autoclose="true"/>
            </div>
          </div>
          <hr/>
          <div id="SorSTButton" class="form-group shiny-input-radiogroup shiny-input-container shiny-input-container-inline">
            <label class="control-label" for="SorSTButton">Type of analysis</label>
            <div class="shiny-options-group">
              <label class="radio-inline">
                <input type="radio" name="SorSTButton" value="S"/>
                <span>Spatial</span>
              </label>
              <label class="radio-inline">
                <input type="radio" name="SorSTButton" value="ST" checked="checked"/>
                <span>Spatio-temporal</span>
              </label>
            </div>
          </div>
          <hr/>
          <div class="row">
            <div class="col-sm-4 col-sm-offset-3">
              <button id="startAnalysisButton" type="button" class="btn btn-default action-button" style="background-color: #F1A8A8">
                <strong>Start analysis</strong>
              </button>
            </div>
            <div class="col-sm-4">
              <div class="form-group shiny-input-container">
                <div class="checkbox">
                  <label>
                    <input id="useSampleData" type="checkbox" checked="checked"/>
                    <span>Use sample data</span>
                  </label>
                </div>
              </div>
            </div>
          </div>
          <hr/>
          <div class="row">
            <pre id="messageCheckData" class="shiny-text-output noplaceholder"></pre>
          </div>
        </div>
      </div>
      <div class="row" style="margin:10px">
        <h3>Contents map</h3>
        <div id="uploadmapmap" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
        <pre id="uploadmapsummary" class="shiny-text-output noplaceholder"></pre>
        <div style="font-size:80%">
          <div id="uploadmaptable" class="shiny-datatable-output"></div>
        </div>
      </div>
      <div class="row" style="margin:10px">
        <h3>Contents data</h3>
        <pre id="uploaddatasummary" class="shiny-text-output noplaceholder"></pre>
        <div style="font-size:80%">
          <div id="uploaddatatable" class="shiny-datatable-output"></div>
        </div>
      </div>
    </div>
    <div data-display-if="input.selectstage == &#39;stageanalysis&#39;" data-ns-prefix="">
      <div style="display: inline-block;vertical-align:middle;">
        <h3>Analysis</h3>
      </div>
      <div style="display: inline-block;vertical-align:middle;">
        <h3> </h3>
      </div>
      <div class="row">
        <div class="col-sm-2">
          <h5>Date range</h5>
        </div>
        <div class="col-sm-2">
          <h5>Type of analysis</h5>
        </div>
        <div class="col-sm-2">
          <h5>Temporal unit</h5>
        </div>
        <div class="col-sm-2"></div>
      </div>
      <div class="row">
        <div class="col-sm-2">
          <pre id="daterangeValue" class="shiny-text-output noplaceholder"></pre>
        </div>
        <div class="col-sm-2">
          <pre id="SorSTButtonValue" class="shiny-text-output noplaceholder"></pre>
        </div>
        <div class="col-sm-2">
          <pre id="temporalUnitButtonValue" class="shiny-text-output noplaceholder"></pre>
        </div>
        <div class="col-sm-1">
          <button id="editInputsButton" type="button" class="btn btn-default action-button" style="background-color: #F1A8A8">
            <strong>Edit Inputs</strong>
          </button>
        </div>
        <div class="col-sm-2">
          <button id="makemapsOESIRButton" type="button" class="btn btn-default action-button" style="background-color: #D0F5A9">
            <strong>Maps Pop O E SIR</strong>
          </button>
        </div>
        <div class="col-sm-1">
          <button id="estimateriskButton" type="button" class="btn btn-default action-button" style="background-color: #D0F5A9">
            <strong>Estimate risk</strong>
          </button>
        </div>
        <div class="col-sm-1">
          <button id="detectclustersButton" type="button" class="btn btn-default action-button" style="background-color: #D0F5A9">
            <strong>Detect clusters</strong>
          </button>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-6 col-sm-offset-6">
          <pre id="errorinlaorsatscannotinstalled" class="shiny-text-output noplaceholder"></pre>
        </div>
      </div>
      <hr/>
      <div class="row">
        <div class="col-sm-4">
          <form class="well">
            <span class="help-block">Choose a variable to display. Tab 'Interactive' will be updated.</span>
            <div class="form-group shiny-input-container">
              <label class="control-label" for="vblePintar">Variable</label>
              <div>
                <select id="vblePintar"><option value="Population">Population</option>
<option value="Observed cases" selected>Observed cases</option>
<option value="Expected cases">Expected cases</option>
<option value="SIR">SIR</option></select>
                <script type="application/json" data-for="vblePintar" data-nonempty="">{}</script>
              </div>
            </div>
            <span class="help-block">Choose a time period to display. Tabs 'Interactive', 'Maps' and 'Clusters' will be updated.</span>
            <div data-display-if="input.temporalUnitButton==&#39;Day&#39;" data-ns-prefix="">
              <div class="form-group shiny-input-container">
                <label class="control-label" for="timeperiodSliderday">Day</label>
                <input class="js-range-slider" id="timeperiodSliderday" data-min="86400000" data-max="172800000" data-from="86400000" data-step="86400000" data-grid="true" data-grid-num="1" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="date" data-time-format="%F"/>
                <div class="slider-animate-container">
                  <a href="#" class="slider-animate-button" data-target-id="timeperiodSliderday" data-interval="1000" data-loop="FALSE">
                    <span class="play">
                      <i class="glyphicon glyphicon-play"></i>
                    </span>
                    <span class="pause">
                      <i class="glyphicon glyphicon-pause"></i>
                    </span>
                  </a>
                </div>
              </div>
            </div>
            <div data-display-if="input.temporalUnitButton==&#39;Month&#39;" data-ns-prefix="">
              <div class="form-group shiny-input-container">
                <label class="control-label" for="timeperiodSlidermonth">Month</label>
                <input class="js-range-slider" id="timeperiodSlidermonth" data-min="1" data-max="2" data-from="1" data-step="1" data-grid="true" data-grid-num="1" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number"/>
                <div class="slider-animate-container">
                  <a href="#" class="slider-animate-button" data-target-id="timeperiodSlidermonth" data-interval="1000" data-loop="FALSE">
                    <span class="play">
                      <i class="glyphicon glyphicon-play"></i>
                    </span>
                    <span class="pause">
                      <i class="glyphicon glyphicon-pause"></i>
                    </span>
                  </a>
                </div>
              </div>
            </div>
            <div data-display-if="input.temporalUnitButton==&#39;Year&#39;" data-ns-prefix="">
              <div class="form-group shiny-input-container">
                <label class="control-label" for="timeperiodSlideryear">Year</label>
                <input class="js-range-slider" id="timeperiodSlideryear" data-min="1" data-max="2" data-from="1" data-step="1" data-grid="true" data-grid-num="1" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number"/>
                <div class="slider-animate-container">
                  <a href="#" class="slider-animate-button" data-target-id="timeperiodSlideryear" data-interval="1000" data-loop="FALSE">
                    <span class="play">
                      <i class="glyphicon glyphicon-play"></i>
                    </span>
                    <span class="pause">
                      <i class="glyphicon glyphicon-pause"></i>
                    </span>
                  </a>
                </div>
              </div>
            </div>
            <hr/>
            <span class="help-block">Choose a region and a range of values to display. Tab 'Interactive' will be updated.</span>
            <div class="form-group shiny-input-container">
              <label class="control-label" for="superarea">Region</label>
              <div>
                <select id="superarea"><option value="All" selected>All</option></select>
                <script type="application/json" data-for="superarea" data-nonempty="">{}</script>
              </div>
            </div>
            <div class="form-group shiny-input-container">
              <label class="control-label" for="risk">Range of values</label>
              <input class="js-range-slider" id="risk" data-type="double" data-min="0" data-max="1" data-from="0" data-to="1" data-step="0.01" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-drag-interval="true" data-data-type="number"/>
            </div>
          </form>
        </div>
        <div data-display-if="input.selectstage == &#39;stageanalysis&#39;" data-ns-prefix="">
          <div class="col-sm-8">
            <div class="tabbable">
              <ul class="nav nav-tabs" data-tabsetid="5524">
                <li class="active">
                  <a href="#tab-5524-1" data-toggle="tab" data-value="Interactive">Interactive</a>
                </li>
                <li>
                  <a href="#tab-5524-2" data-toggle="tab" data-value="Maps">Maps</a>
                </li>
                <li>
                  <a href="#tab-5524-3" data-toggle="tab" data-value="Clusters">Clusters</a>
                </li>
                <li>
                  <a href="#tab-5524-4" data-toggle="tab" data-value="Report">Report</a>
                </li>
              </ul>
              <div class="tab-content" data-tabsetid="5524">
                <div class="tab-pane active" data-value="Interactive" id="tab-5524-1">
                  <br>
                  <div class="row">
                    <div class="col-sm-12">
                      <pre id="staticdate1" class="shiny-text-output noplaceholder"></pre>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-8">
                      <div id="leafletMap" style="width:100%; height:400px; " class="leaflet html-widget html-widget-output"></div>
                      <div style="top:1px;right:17px;position:absolute;cursor:inherit;" class="panel panel-default">
                        <div id="areaInfoPanel" class="shiny-html-output"></div>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div id="dygraphTemporalTrend" style="width:100%; height:400px; " class="dygraphs html-widget html-widget-output"></div>
                      <div id="legendDivID" class="shiny-text-output"></div>
                    </div>
                  </div>
                  <br>
                  <div class="row">
                    <div class="col-sm-5">
                      <a id="downloadtabla" class="btn btn-default shiny-download-link " href="" target="_blank" download>
                        <i class="fa fa-download"></i>
                        Download table
                      </a>
                    </div>
                  </div>
                  <br>
                  <div class="row">
                    <div class="col-sm-5">
                      <div style="font-size:80%">
                        <div id="tabla" class="shiny-datatable-output"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane" data-value="Maps" id="tab-5524-2">
                  <br>
                  <div class="row">
                    <div class="col-sm-12">
                      <pre id="staticdate2" class="shiny-text-output noplaceholder"></pre>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12">
                      <pre id="staticsummary" class="shiny-text-output noplaceholder"></pre>
                    </div>
                  </div>
                  <div data-display-if="input.selectmakemapsOESIR == &#39;done&#39;" data-ns-prefix="">
                    <div class="row">
                      <div class="col-sm-3">
                        <h4>Population</h4>
                      </div>
                      <div class="col-sm-3">
                        <h4>Observed</h4>
                      </div>
                      <div class="col-sm-3">
                        <h4>Expected</h4>
                      </div>
                      <div class="col-sm-3">
                        <h4>SIR</h4>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-3">
                        <div id="plot1" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                      <div class="col-sm-3">
                        <div id="plot2" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                      <div class="col-sm-3">
                        <div id="plot3" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                      <div class="col-sm-3">
                        <div id="plot4" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-3">
                        <div id="plot1t" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                      <div class="col-sm-3">
                        <div id="plot2t" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                      <div class="col-sm-3">
                        <div id="plot3t" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                      <div class="col-sm-3">
                        <div id="plot4t" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                    </div>
                  </div>
                  <div data-display-if="input.selectestimaterisk == &#39;done&#39;" data-ns-prefix="">
                    <div class="row">
                      <div class="col-sm-3">
                        <h4>Risk</h4>
                      </div>
                      <div class="col-sm-3">
                        <h4>2.5 percentile</h4>
                      </div>
                      <div class="col-sm-3">
                        <h4>97.5 percentile</h4>
                      </div>
                      <div class="col-sm-3"></div>
                    </div>
                    <div class="row">
                      <div class="col-sm-3">
                        <div id="plot5" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                      <div class="col-sm-3">
                        <div id="plot6" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                      <div class="col-sm-3">
                        <div id="plot7" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                      <div class="col-sm-3"></div>
                    </div>
                    <div class="row">
                      <div class="col-sm-3">
                        <div id="plot5t" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                      <div class="col-sm-3">
                        <div id="plot6t" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                      <div class="col-sm-3">
                        <div id="plot7t" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                      <div class="col-sm-3"></div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane" data-value="Clusters" id="tab-5524-3">
                  <div data-display-if="input.selectdetectclusters == &#39;done&#39;" data-ns-prefix="">
                    <br>
                    <div class="row">
                      <div class="col-sm-12">
                        <pre id="staticdate3" class="shiny-text-output noplaceholder"></pre>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-3">
                        <div id="plotclusters" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                      <div class="col-sm-3">
                        <div id="plotclusterst" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12">
                        <div id="tablaclusters" class="shiny-datatable-output"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane" data-value="Report" id="tab-5524-4">
                  <br>
                  <div class="row">
                    <div class="col-sm-2">
                      <a id="report" class="btn btn-default shiny-download-link " href="" target="_blank" download>
                        <i class="fa fa-download"></i>
                        Download report
                      </a>
                    </div>
                  </div>
                  <br>
                  <span class="help-block">Choose the variables to include in the report. Variables that have not been calculated will not be included.</span>
                  <div id="rmaps" class="form-group shiny-input-checkboxgroup shiny-input-container shiny-input-container-inline">
                    <label class="control-label" for="rmaps">Maps</label>
                    <div class="shiny-options-group">
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rmaps" value="Population" checked="checked"/>
                        <span>Population</span>
                      </label>
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rmaps" value="Observed" checked="checked"/>
                        <span>Observed</span>
                      </label>
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rmaps" value="Expected" checked="checked"/>
                        <span>Expected</span>
                      </label>
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rmaps" value="SIR" checked="checked"/>
                        <span>SIR</span>
                      </label>
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rmaps" value="Risk" checked="checked"/>
                        <span>Risk</span>
                      </label>
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rmaps" value="LowerLimitCI" checked="checked"/>
                        <span>2.5 percentile</span>
                      </label>
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rmaps" value="UpperLimitCI" checked="checked"/>
                        <span>97.5 percentile</span>
                      </label>
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rmaps" value="Clusters" checked="checked"/>
                        <span>Clusters</span>
                      </label>
                    </div>
                  </div>
                  <div id="rtables" class="form-group shiny-input-checkboxgroup shiny-input-container shiny-input-container-inline">
                    <label class="control-label" for="rtables">Tables summary</label>
                    <div class="shiny-options-group">
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rtables" value="Population" checked="checked"/>
                        <span>Population</span>
                      </label>
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rtables" value="Observed" checked="checked"/>
                        <span>Observed</span>
                      </label>
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rtables" value="Expected" checked="checked"/>
                        <span>Expected</span>
                      </label>
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rtables" value="SIR" checked="checked"/>
                        <span>SIR</span>
                      </label>
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rtables" value="Risk" checked="checked"/>
                        <span>Risk</span>
                      </label>
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rtables" value="LowerLimitCI" checked="checked"/>
                        <span>2.5 percentile</span>
                      </label>
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rtables" value="UpperLimitCI" checked="checked"/>
                        <span>97.5 percentile</span>
                      </label>
                    </div>
                  </div>
                  <div id="rtablesclusters" class="form-group shiny-input-checkboxgroup shiny-input-container shiny-input-container-inline">
                    <label class="control-label" for="rtablesclusters">Table clusters</label>
                    <div class="shiny-options-group">
                      <label class="checkbox-inline">
                        <input type="checkbox" name="rtablesclusters" value="Clusters" checked="checked"/>
                        <span>Clusters</span>
                      </label>
                    </div>
                  </div>
                  <br>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

</html>
